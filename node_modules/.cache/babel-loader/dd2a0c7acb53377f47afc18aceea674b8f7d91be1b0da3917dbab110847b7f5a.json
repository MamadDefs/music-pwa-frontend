{"ast":null,"code":"import _slicedToArray from\"/home/saoshyant/Documents/GitHub/music-pwa-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router';import axios from'axios';import HelpCenterOutlinedIcon from'@mui/icons-material/HelpCenterOutlined';import ImageIcon from'@mui/icons-material/Image';import MusicNoteIcon from'@mui/icons-material/MusicNote';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfile=function UserProfile(_ref){var userInfo=_ref.userInfo,setUserInfo=_ref.setUserInfo,setProfileRoute=_ref.setProfileRoute;var navigate=useNavigate();function deleteCookies(){var allCookies=document.cookie.split(';');// The \"expire\" attribute of every cookie is \n// Set to \"Thu, 01 Jan 1970 00:00:00 GMT\"\nfor(var i=0;i<allCookies.length;i++)document.cookie=allCookies[i]+\"=;expires=\"+new Date(0).toUTCString();setUserInfo(null);setProfileRoute('/login-signup');navigate('/login-signup');}var _useState=useState(null),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var onChangeFile=function onChangeFile(e){console.log(e.target.files[0]);setFile(e.target.files[0]);};var onSubmit=function onSubmit(){var jwtToken=document.cookie.split('=')[1];var formData=new FormData();formData.append(\"profileImage\",file);formData.append(\"jwtToken\",jwtToken);try{var res=axios.post(\"https://music-pwa-api.iran.liara.run/api/users/profile/upload-image\",formData);console.log(res);}catch(ex){console.log(ex);}};return/*#__PURE__*/_jsx(\"div\",{className:\"page-content-holder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart-section\",children:[/*#__PURE__*/_jsx(Link,{to:\"/userinformation\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'white'},children:[/*#__PURE__*/_jsx(HelpCenterOutlinedIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0627\\u0637\\u0644\\u0627\\u0639\\u0627\\u062A \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/uploadprofile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'white'},children:[/*#__PURE__*/_jsx(ImageIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0622\\u067E\\u0644\\u0648\\u062F \\u067E\\u0631\\u0648\\u0641\\u0627\\u06CC\\u0644\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/uploadMusic\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'white'},children:[/*#__PURE__*/_jsx(MusicNoteIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0622\\u067E\\u0644\\u0648\\u062F \\u0622\\u0647\\u0646\\u06AF\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'red'},onClick:deleteCookies,children:[/*#__PURE__*/_jsx(HelpCenterOutlinedIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u062E\\u0631\\u0648\\u062C\"})]})]})});};export default UserProfile;{/* <div className=\"profile-holder\">\n                <img className=\"profile-image\" src={userInfo?.profileImage ? userInfo?.profileImage : defaultProfileImageUrl} alt=\"\" />\n                <h3>عکس جدیدی برای پروفایل خود آپلود کنید</h3>\n                <form action=\"/users/profile/upload-image\" method=\"post\" encType=\"multipart/form-data\">\n                    <input type=\"file\" name=\"profileImage\" onChange={(e) => onChangeFile(e)} />\n                </form>\n                <button type=\"submit\" className='submitBtn' value=\"submit\" onClick={() => onSubmit()} >آپلود</button>\n            </div>\n            <div className=\"account-information\">\n                <br />\n                <h3>نام کاربری</h3>\n                <h4>{userInfo?.username}</h4>\n                <br />\n                <h3>ایمیل</h3>\n                <h4>{userInfo?.email}</h4>\n                <br />\n                <h3>نوع اکانت</h3>\n                <h4>معمولی‌</h4>\n                <button type=\"submit\" onClick={() => deleteCookies()} className='exitBtn' value=\"submit\" >خروج</button>\n            </div> */}","map":{"version":3,"names":["React","useState","useNavigate","axios","HelpCenterOutlinedIcon","ImageIcon","MusicNoteIcon","Link","UserProfile","userInfo","setUserInfo","setProfileRoute","navigate","deleteCookies","allCookies","document","cookie","split","i","length","Date","toUTCString","file","setFile","onChangeFile","e","console","log","target","files","onSubmit","jwtToken","formData","FormData","append","res","post","ex","color"],"sources":["/home/saoshyant/Documents/GitHub/music-pwa-frontend/src/pages/UserProfile.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { useNavigate } from 'react-router';\nimport axios from 'axios'\nimport HelpCenterOutlinedIcon from '@mui/icons-material/HelpCenterOutlined';\nimport ImageIcon from '@mui/icons-material/Image';\nimport MusicNoteIcon from '@mui/icons-material/MusicNote';\nimport { Link } from \"react-router-dom\";\n\nconst UserProfile = ({ userInfo, setUserInfo, setProfileRoute }) => {\n\n    const navigate = useNavigate();\n    function deleteCookies() {\n        var allCookies = document.cookie.split(';');\n\n        // The \"expire\" attribute of every cookie is \n        // Set to \"Thu, 01 Jan 1970 00:00:00 GMT\"\n        for (var i = 0; i < allCookies.length; i++)\n            document.cookie = allCookies[i] + \"=;expires=\"\n                + new Date(0).toUTCString();\n\n        setUserInfo(null);\n        setProfileRoute('/login-signup');\n        navigate('/login-signup')\n    }\n    const [file, setFile] = useState(null);\n\n    const onChangeFile = (e) => {\n        console.log(e.target.files[0])\n        setFile(e.target.files[0])\n    }\n\n    const onSubmit = () => {\n        const jwtToken = document.cookie.split('=')[1];\n\n        const formData = new FormData();\n        formData.append(\"profileImage\", file);\n        formData.append(\"jwtToken\", jwtToken);\n        try {\n            const res = axios.post(\n                \"https://music-pwa-api.iran.liara.run/api/users/profile/upload-image\",\n                formData\n            );\n            console.log(res);\n        } catch (ex) {\n            console.log(ex);\n        }\n\n    }\n\n    return (\n        <div className=\"page-content-holder\">\n            <div className='panel-cart-section'>\n                <Link to='/userinformation'>\n                    <div className='panel-cart' style={{ color: 'white' }}>\n                        <HelpCenterOutlinedIcon />\n                        <h3>اطلاعات کاربری</h3>\n                    </div>\n                </Link>\n                <Link to='/uploadprofile'>\n                    <div className='panel-cart' style={{ color: 'white' }}>\n                        <ImageIcon />\n                        <h3>آپلود پروفایل</h3>\n                    </div>\n                </Link>\n                <Link to='/uploadMusic'>\n                    <div className='panel-cart' style={{ color: 'white' }}>\n                        <MusicNoteIcon />\n                        <h3>آپلود آهنگ</h3>\n                    </div>\n                </Link>\n                <div className='panel-cart' style={{ color: 'red' }} onClick={deleteCookies}>\n                    <HelpCenterOutlinedIcon />\n                    <h3>خروج</h3>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default UserProfile\n\n{/* <div className=\"profile-holder\">\n                <img className=\"profile-image\" src={userInfo?.profileImage ? userInfo?.profileImage : defaultProfileImageUrl} alt=\"\" />\n                <h3>عکس جدیدی برای پروفایل خود آپلود کنید</h3>\n                <form action=\"/users/profile/upload-image\" method=\"post\" encType=\"multipart/form-data\">\n                    <input type=\"file\" name=\"profileImage\" onChange={(e) => onChangeFile(e)} />\n                </form>\n                <button type=\"submit\" className='submitBtn' value=\"submit\" onClick={() => onSubmit()} >آپلود</button>\n            </div>\n            <div className=\"account-information\">\n                <br />\n                <h3>نام کاربری</h3>\n                <h4>{userInfo?.username}</h4>\n                <br />\n                <h3>ایمیل</h3>\n                <h4>{userInfo?.email}</h4>\n                <br />\n                <h3>نوع اکانت</h3>\n                <h4>معمولی‌</h4>\n                <button type=\"submit\" onClick={() => deleteCookies()} className='exitBtn' value=\"submit\" >خروج</button>\n            </div> */}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}