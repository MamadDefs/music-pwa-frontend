{"ast":null,"code":"var _jsxFileName = \"/media/saoshyant/Files/github/music-pwa-frontend/src/pages/Layout.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Outlet, Link, useLocation, redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Layout = () => {\n  _s();\n  const [profileRoute, setProfileRoute] = useState(\"login-signup\");\n  const location = useLocation();\n  const request = new XMLHttpRequest();\n  useEffect(() => {\n    try {\n      request.open('GET', '/api/users/auth');\n      request.responseType = 'json';\n      request.addEventListener('load', () => {\n        const res = request.response;\n        if (res !== null && res !== void 0 && res.isLogin) {\n          if (request.response.role == 'admin') {\n            setProfileRoute('adminprofile');\n          } else if ((res === null || res === void 0 ? void 0 : res.role) == 'user') {\n            setProfileRoute('userprofile');\n          }\n        }\n      });\n      request.addEventListener('error', () => console.error('XHR error'));\n      request.send();\n    } catch (error) {\n      console.error(`XHR error ${request.status}`);\n    }\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      id: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-container-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          className: \"nav__logo\",\n          children: \"Marlon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/img/Mehrdad - Masale.jpg\",\n          alt: \"\",\n          className: \"nav__img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"nav-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav__menu\",\n          id: \"nav-menu\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav__list\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav__item\",\n                id: \"home-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nav__link\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bx bx-home-alt nav__icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"nav__name\",\n                    children: \"\\u062E\\u0627\\u0646\\u0647\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 49,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/search\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav__item\",\n                id: \"search-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nav__link\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bx bx-search-alt nav__icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"nav__name\",\n                    children: \"\\u062C\\u0633\\u062A\\u062C\\u0648\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 57,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/playlist\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav__item\",\n                id: \"playlist-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nav__link\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bx bx-book-alt nav__icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 64,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"nav__name\",\n                    children: \"\\u067E\\u0644\\u06CC \\u0644\\u06CC\\u0633\\u062A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: profileRoute,\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav__item\",\n                id: \"profile-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"nav__link\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"bx bx-user nav__icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"nav__name\",\n                    children: \"\\u062D\\u0633\\u0627\\u0628 \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(Layout, \"2KZ0bJORaZVeFq1X82CmQNV9w+0=\", false, function () {\n  return [useLocation];\n});\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["React","useState","useEffect","Outlet","Link","useLocation","redirect","Layout","profileRoute","setProfileRoute","location","request","XMLHttpRequest","open","responseType","addEventListener","res","response","isLogin","role","console","error","send","status"],"sources":["/media/saoshyant/Files/github/music-pwa-frontend/src/pages/Layout.jsx"],"sourcesContent":["import React, { useState,useEffect } from 'react'\nimport { Outlet, Link, useLocation, redirect } from \"react-router-dom\";\nconst Layout = () => {\n  const [profileRoute,setProfileRoute]=useState(\"login-signup\");\n  const location=useLocation();  \n  const request = new XMLHttpRequest();\n  \n  useEffect(()=>{\n    try {\n      request.open('GET', '/api/users/auth');\n\n      request.responseType = 'json';\n\n      request.addEventListener('load', () => {\n        const res=request.response;\n        if(res?.isLogin){\n            if(request.response.role=='admin'){\n                setProfileRoute('adminprofile');\n            } else if(res?.role=='user'){\n                setProfileRoute('userprofile');\n            }\n        }\n      });\n      request.addEventListener('error', () => console.error('XHR error'));\n\n      request.send();\n\n    } catch (error) {\n      console.error(`XHR error ${request.status}`);\n    }\n  },[location])\n\n\n\n  return (\n    <div>\n    <header className='header' id='header'>\n                <div className='nav-container-top'>\n                  <a href=\"#\" className=\"nav__logo\">Marlon</a>        \n                  <img src=\"/img/Mehrdad - Masale.jpg\" alt=\"\" className=\"nav__img\"/>\n                </div>\n        <nav className='nav-container'>                          \n                <div className='nav__menu' id=\"nav-menu\">\n                    <ul className=\"nav__list\">\n                    <Link to=\"/\">\n                        <li className=\"nav__item\"  id=\"home-btn\" >\n                            <div className=\"nav__link\">\n                                <i className='bx bx-home-alt nav__icon'></i>\n                                <span className=\"nav__name\">خانه</span>\n                            </div>\n                        </li>\n                    </Link>\n                    <Link to=\"/search\">\n                        <li className=\"nav__item\" id=\"search-btn\">\n                            <div className=\"nav__link\">\n                                <i className='bx bx-search-alt nav__icon'></i>\n                                <span className=\"nav__name\">جستجو</span>\n                            </div>\n                        </li>\n                    </Link>\n                    <Link to=\"/playlist\">\n                        <li className=\"nav__item\" id=\"playlist-btn\">\n                            <div className=\"nav__link\">\n                                <i className='bx bx-book-alt nav__icon'></i>\n                                <span className=\"nav__name\">پلی لیست</span>\n                            </div>\n                        </li>\n                    </Link>\n                    <Link to={profileRoute} > \n                        <li className=\"nav__item\" id=\"profile-btn\">\n                            <div className=\"nav__link\">\n                                <i className='bx bx-user nav__icon'></i>\n                                <span className=\"nav__name\">حساب کاربری</span>\n                            </div>\n                        </li>\n                    </Link>\n                    </ul>\n                </div>\n            </nav>\n    </header>\n      <Outlet />\n    </div>\n  )\n}\n\nexport default Layout"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}