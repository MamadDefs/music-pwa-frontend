{"ast":null,"code":"import _slicedToArray from\"D:/github/music-pwa-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router';import axios from'axios';import HelpCenterOutlinedIcon from'@mui/icons-material/HelpCenterOutlined';import ImageIcon from'@mui/icons-material/Image';import MusicNoteIcon from'@mui/icons-material/MusicNote';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfile=function UserProfile(_ref){var userInfo=_ref.userInfo,setProfileRoute=_ref.setProfileRoute;var navigate=useNavigate();function deleteCookies(){var allCookies=document.cookie.split(';');// The \"expire\" attribute of every cookie is \n// Set to \"Thu, 01 Jan 1970 00:00:00 GMT\"\nfor(var i=0;i<allCookies.length;i++)document.cookie=allCookies[i]+\"=;expires=\"+new Date(0).toUTCString();setProfileRoute('/login-signup');navigate('/login-signup');}var _useState=useState(null),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var onChangeFile=function onChangeFile(e){console.log(e.target.files[0]);setFile(e.target.files[0]);};var onSubmit=function onSubmit(){var jwtToken=document.cookie.split('=')[1];var formData=new FormData();formData.append(\"profileImage\",file);formData.append(\"jwtToken\",jwtToken);try{var res=axios.post(\"https://music-pwa-api.iran.liara.run/api/users/profile/upload-image\",formData);console.log(res);}catch(ex){console.log(ex);}};return/*#__PURE__*/_jsx(\"div\",{className:\"page-content-holder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart-section\",children:[/*#__PURE__*/_jsx(Link,{to:\"/userinformation\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'white'},children:[/*#__PURE__*/_jsx(HelpCenterOutlinedIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0627\\u0637\\u0644\\u0627\\u0639\\u0627\\u062A \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/uploadprofile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'white'},children:[/*#__PURE__*/_jsx(ImageIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0622\\u067E\\u0644\\u0648\\u062F \\u067E\\u0631\\u0648\\u0641\\u0627\\u06CC\\u0644\"})]})}),/*#__PURE__*/_jsx(Link,{to:\"/uploadMusic\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'white'},children:[/*#__PURE__*/_jsx(MusicNoteIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0622\\u067E\\u0644\\u0648\\u062F \\u0622\\u0647\\u0646\\u06AF\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-cart\",style:{color:'red'},onClick:deleteCookies,children:[/*#__PURE__*/_jsx(HelpCenterOutlinedIcon,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u062E\\u0631\\u0648\\u062C\"})]})]})});};export default UserProfile;{/* <div className=\"profile-holder\">\r\n                <img className=\"profile-image\" src={userInfo?.profileImage ? userInfo?.profileImage : defaultProfileImageUrl} alt=\"\" />\r\n                <h3>عکس جدیدی برای پروفایل خود آپلود کنید</h3>\r\n                <form action=\"/users/profile/upload-image\" method=\"post\" encType=\"multipart/form-data\">\r\n                    <input type=\"file\" name=\"profileImage\" onChange={(e) => onChangeFile(e)} />\r\n                </form>\r\n                <button type=\"submit\" className='submitBtn' value=\"submit\" onClick={() => onSubmit()} >آپلود</button>\r\n            </div>\r\n            <div className=\"account-information\">\r\n                <br />\r\n                <h3>نام کاربری</h3>\r\n                <h4>{userInfo?.username}</h4>\r\n                <br />\r\n                <h3>ایمیل</h3>\r\n                <h4>{userInfo?.email}</h4>\r\n                <br />\r\n                <h3>نوع اکانت</h3>\r\n                <h4>معمولی‌</h4>\r\n                <button type=\"submit\" onClick={() => deleteCookies()} className='exitBtn' value=\"submit\" >خروج</button>\r\n            </div> */}","map":{"version":3,"names":["React","useState","useNavigate","axios","HelpCenterOutlinedIcon","ImageIcon","MusicNoteIcon","Link","UserProfile","userInfo","setProfileRoute","navigate","deleteCookies","allCookies","document","cookie","split","i","length","Date","toUTCString","file","setFile","onChangeFile","e","console","log","target","files","onSubmit","jwtToken","formData","FormData","append","res","post","ex","color"],"sources":["D:/github/music-pwa-frontend/src/pages/UserProfile.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router';\r\nimport axios from 'axios'\r\nimport HelpCenterOutlinedIcon from '@mui/icons-material/HelpCenterOutlined';\r\nimport ImageIcon from '@mui/icons-material/Image';\r\nimport MusicNoteIcon from '@mui/icons-material/MusicNote';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserProfile = ({ userInfo, setProfileRoute }) => {\r\n\r\n    const navigate = useNavigate();\r\n    function deleteCookies() {\r\n        var allCookies = document.cookie.split(';');\r\n\r\n        // The \"expire\" attribute of every cookie is \r\n        // Set to \"Thu, 01 Jan 1970 00:00:00 GMT\"\r\n        for (var i = 0; i < allCookies.length; i++)\r\n            document.cookie = allCookies[i] + \"=;expires=\"\r\n                + new Date(0).toUTCString();\r\n\r\n        setProfileRoute('/login-signup');\r\n        navigate('/login-signup')\r\n    }\r\n    const [file, setFile] = useState(null);\r\n\r\n    const onChangeFile = (e) => {\r\n        console.log(e.target.files[0])\r\n        setFile(e.target.files[0])\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        const jwtToken = document.cookie.split('=')[1];\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"profileImage\", file);\r\n        formData.append(\"jwtToken\", jwtToken);\r\n        try {\r\n            const res = axios.post(\r\n                \"https://music-pwa-api.iran.liara.run/api/users/profile/upload-image\",\r\n                formData\r\n            );\r\n            console.log(res);\r\n        } catch (ex) {\r\n            console.log(ex);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"page-content-holder\">\r\n            <div className='panel-cart-section'>\r\n                <Link to='/userinformation'>\r\n                    <div className='panel-cart' style={{ color: 'white' }}>\r\n                        <HelpCenterOutlinedIcon />\r\n                        <h3>اطلاعات کاربری</h3>\r\n                    </div>\r\n                </Link>\r\n                <Link to='/uploadprofile'>\r\n                    <div className='panel-cart' style={{ color: 'white' }}>\r\n                        <ImageIcon />\r\n                        <h3>آپلود پروفایل</h3>\r\n                    </div>\r\n                </Link>\r\n                <Link to='/uploadMusic'>\r\n                    <div className='panel-cart' style={{ color: 'white' }}>\r\n                        <MusicNoteIcon />\r\n                        <h3>آپلود آهنگ</h3>\r\n                    </div>\r\n                </Link>\r\n                <div className='panel-cart' style={{ color: 'red' }} onClick={deleteCookies}>\r\n                    <HelpCenterOutlinedIcon />\r\n                    <h3>خروج</h3>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n\r\n{/* <div className=\"profile-holder\">\r\n                <img className=\"profile-image\" src={userInfo?.profileImage ? userInfo?.profileImage : defaultProfileImageUrl} alt=\"\" />\r\n                <h3>عکس جدیدی برای پروفایل خود آپلود کنید</h3>\r\n                <form action=\"/users/profile/upload-image\" method=\"post\" encType=\"multipart/form-data\">\r\n                    <input type=\"file\" name=\"profileImage\" onChange={(e) => onChangeFile(e)} />\r\n                </form>\r\n                <button type=\"submit\" className='submitBtn' value=\"submit\" onClick={() => onSubmit()} >آپلود</button>\r\n            </div>\r\n            <div className=\"account-information\">\r\n                <br />\r\n                <h3>نام کاربری</h3>\r\n                <h4>{userInfo?.username}</h4>\r\n                <br />\r\n                <h3>ایمیل</h3>\r\n                <h4>{userInfo?.email}</h4>\r\n                <br />\r\n                <h3>نوع اکانت</h3>\r\n                <h4>معمولی‌</h4>\r\n                <button type=\"submit\" onClick={() => deleteCookies()} className='exitBtn' value=\"submit\" >خروج</button>\r\n            </div> */}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}