{"ast":null,"code":"import _slicedToArray from\"/home/saoshyant/Documents/GitHub/music-pwa-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Backdrop from'@mui/material/Backdrop';import CircularProgress from'@mui/material/CircularProgress';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchPage=function SearchPage(_ref){var setMusicInfo=_ref.setMusicInfo;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var searchChange=function searchChange(e){var searchTerm=e.target.value;if(searchTerm.length>=3){var option={method:'GET',headers:{'Content-type':'application/json; charset=UTF-8'}};setLoading(true);fetch(\"https://music-pwa-api.iran.liara.run/api/musics/search?q=\".concat(searchTerm),option).then(function(res){return res.json();}).then(function(d){setData(d.musics);setLoading(false);});}else{setData(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content-holder\",children:[/*#__PURE__*/_jsx(Backdrop,{sx:{color:'#fff',zIndex:function zIndex(theme){return theme.zIndex.drawer+1;}},open:loading,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flexbox\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0628\\u0631\\u0627\\u06CC \\u062C\\u0633\\u062A\\u062C\\u0648 \\u0628\\u0631 \\u0631\\u0648\\u06CC \\u0622\\u06CC\\u06A9\\u0648\\u0646 \\u0630\\u0631\\u0647 \\u0628\\u06CC\\u0646 \\u06A9\\u0644\\u06CC\\u06A9 \\u06A9\\u0646\\u06CC\\u062F\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u062C\\u0633\\u062A\\u062C\\u0648 . . .\",onChange:function onChange(e){return searchChange(e);},required:true})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"music-section\",children:data===null||data===void 0?void 0:data.map(function(q,index){var _q$artist;return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"img\",{src:q===null||q===void 0?void 0:q.coverImagePath,alt:\"\",onClick:function onClick(){return setMusicInfo(q);},className:\"song-image\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"song-name\",children:q===null||q===void 0?void 0:q.title}),/*#__PURE__*/_jsx(\"h4\",{className:\"artist-name\",children:q===null||q===void 0?void 0:(_q$artist=q.artist)===null||_q$artist===void 0?void 0:_q$artist.map(function(r){return r+\" \";})})]},index);})})]});};export default SearchPage;","map":{"version":3,"names":["React","useState","Backdrop","CircularProgress","SearchPage","setMusicInfo","data","setData","loading","setLoading","searchChange","e","searchTerm","target","value","length","option","method","headers","fetch","then","res","json","d","musics","color","zIndex","theme","drawer","map","q","index","coverImagePath","title","artist","r"],"sources":["/home/saoshyant/Documents/GitHub/music-pwa-frontend/src/pages/SearchPage.jsx"],"sourcesContent":["import React,{useState} from 'react'\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\n\n\nconst SearchPage = ({setMusicInfo}) => {\n\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false)\n\n\n\n  const searchChange = (e) => {\n    let searchTerm = e.target.value;\n    if (searchTerm.length >= 3) {\n      const option = {\n        method: 'GET',\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n        }\n      };\n      setLoading(true);\n      fetch(`https://music-pwa-api.iran.liara.run/api/musics/search?q=${searchTerm}`, option)\n        .then((res) => res.json())\n        .then((d) => {\n          setData(d.musics)\n          setLoading(false)\n        })\n    } else {\n      setData(null);\n    }\n  }\n  return (\n    <div className='page-content-holder'>\n      <Backdrop\n        sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\n        open={loading}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <div className=\"flexbox\">\n        <div className=\"search\">\n          <h2>برای جستجو بر روی آیکون ذره بین کلیک کنید</h2>\n          <div>\n            <input type=\"text\" placeholder=\"جستجو . . .\" onChange={(e) => searchChange(e)} required />\n          </div>\n        </div>\n      </div>\n      <div className=\"music-section\">\n        {data?.map((q, index) => {\n          return (\n            <div key={index} className=\"post\">\n              <img src={q?.coverImagePath} alt=\"\" onClick={() => setMusicInfo(q)} className=\"song-image\" />\n              <h3 className=\"song-name\">{q?.title}</h3>\n              <h4 className=\"artist-name\">{q?.artist?.map(r => { return (r + \" \") })}</h4>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default SearchPage"],"mappings":"yIAAA,MAAOA,MAAK,EAAEC,QAAQ,KAAO,OAAO,CACpC,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAOC,iBAAgB,KAAM,gCAAgC,CAAC,wFAG9D,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAuB,IAAlBC,aAAY,MAAZA,YAAY,CAE/B,cAAwBJ,QAAQ,CAAC,IAAI,CAAC,wCAA/BK,IAAI,eAAEC,OAAO,eACpB,eAA8BN,QAAQ,CAAC,KAAK,CAAC,yCAAtCO,OAAO,eAAEC,UAAU,eAI1B,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1B,GAAIC,WAAU,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAC/B,GAAIF,UAAU,CAACG,MAAM,EAAI,CAAC,CAAE,CAC1B,GAAMC,OAAM,CAAG,CACbC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,iCAClB,CACF,CAAC,CACDT,UAAU,CAAC,IAAI,CAAC,CAChBU,KAAK,oEAA6DP,UAAU,EAAII,MAAM,CAAC,CACpFI,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACC,IAAI,EAAE,GAAC,CACzBF,IAAI,CAAC,SAACG,CAAC,CAAK,CACXhB,OAAO,CAACgB,CAAC,CAACC,MAAM,CAAC,CACjBf,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,IAAM,CACLF,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAC,CACD,mBACE,aAAK,SAAS,CAAC,qBAAqB,wBAClC,KAAC,QAAQ,EACP,EAAE,CAAE,CAAEkB,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,gBAACC,KAAK,QAAKA,MAAK,CAACD,MAAM,CAACE,MAAM,CAAG,CAAC,EAAC,CAAE,CAClE,IAAI,CAAEpB,OAAQ,uBAEd,KAAC,gBAAgB,EAAC,KAAK,CAAC,SAAS,EAAG,EAC3B,cACX,YAAK,SAAS,CAAC,SAAS,uBACtB,aAAK,SAAS,CAAC,QAAQ,wBACrB,oBAAI,gNAAyC,EAAK,cAClD,kCACE,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,sCAAa,CAAC,QAAQ,CAAE,kBAACG,CAAC,QAAKD,aAAY,CAACC,CAAC,CAAC,EAAC,CAAC,QAAQ,OAAG,EACtF,GACF,EACF,cACN,YAAK,SAAS,CAAC,eAAe,UAC3BL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuB,GAAG,CAAC,SAACC,CAAC,CAAEC,KAAK,CAAK,eACvB,mBACE,aAAiB,SAAS,CAAC,MAAM,wBAC/B,YAAK,GAAG,CAAED,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEE,cAAe,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAE,yBAAM3B,aAAY,CAACyB,CAAC,CAAC,EAAC,CAAC,SAAS,CAAC,YAAY,EAAG,cAC7F,WAAI,SAAS,CAAC,WAAW,UAAEA,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEG,KAAK,EAAM,cACzC,WAAI,SAAS,CAAC,aAAa,UAAEH,CAAC,SAADA,CAAC,4BAADA,CAAC,CAAEI,MAAM,oCAAT,UAAWL,GAAG,CAAC,SAAAM,CAAC,CAAI,CAAE,MAAQA,EAAC,CAAG,GAAG,CAAE,CAAC,CAAC,EAAM,GAHpEJ,KAAK,CAIT,CAEV,CAAC,CAAC,EACE,GACF,CAEV,CAAC,CAED,cAAe3B,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}