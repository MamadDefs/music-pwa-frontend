{"ast":null,"code":"import _slicedToArray from\"/home/saoshyant/Documents/GitHub/music-pwa-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/saoshyant/Documents/GitHub/music-pwa-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import ShareRoundedIcon from'@mui/icons-material/ShareRounded';import Snackbar from'@mui/material/Snackbar';import MuiAlert from'@mui/material/Alert';import Stack from'@mui/material/Stack';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});var SinglePlayList=function SinglePlayList(_ref){var setMusicInfo=_ref.setMusicInfo,data=_ref.data,setData=_ref.setData;var param=useParams();var _useState=useState(),_useState2=_slicedToArray(_useState,2),playlistDetail=_useState2[0],setPlaylistDetail=_useState2[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),messageType=_useState6[0],setMessageType=_useState6[1];var handleClick=function handleClick(){setOpen(true);};var handleClose=function handleClose(event,reason){if(reason==='clickaway'){return;}setOpen(false);};function getCurrentURL(){return window.location.href;}useEffect(function(){var option={method:'POST',body:JSON.stringify({id:param===null||param===void 0?void 0:param['*']}),headers:{'Content-type':'application/json; charset=UTF-8'}};fetch('https://music-pwa-api.iran.liara.run/api/playlists/id/id',option).then(function(res){return res.json();}).then(function(d){setPlaylistDetail({title:d===null||d===void 0?void 0:d.title,user:d===null||d===void 0?void 0:d.user});setData(d===null||d===void 0?void 0:d.musics);});},[]);var copyToTheClipboard=function copyToTheClipboard(){navigator.clipboard.writeText(getCurrentURL()).then(function(){console.log('Async: Copying to clipboard was successful!');handleClick();setMessageType('success');setMessage('لینک اشتراک گذاری با موفقیت کپی');},function(err){console.error('Async: Could not copy text: ',err);handleClick();setMessageType('error');setMessage('خطا در کپی کردن');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content-holder\",style:{color:'white'},children:[/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:messageType,sx:{position:'absolute',bottom:'0%',right:'0%',zIndex:100},children:message})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"plylist-section-title\",children:[/*#__PURE__*/_jsx(ShareRoundedIcon,{onClick:function onClick(){return copyToTheClipboard();}}),playlistDetail===null||playlistDetail===void 0?void 0:playlistDetail.title]}),/*#__PURE__*/_jsx(\"div\",{className:\"music-section\",children:data===null||data===void 0?void 0:data.map(function(q,index){var _q$artist;return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsx(\"img\",{src:q===null||q===void 0?void 0:q.coverImagePath,alt:\"\",onClick:function onClick(){return setMusicInfo(q);},className:\"song-image\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"song-name\",children:q===null||q===void 0?void 0:q.title}),/*#__PURE__*/_jsx(\"h4\",{className:\"artist-name\",children:q===null||q===void 0?void 0:(_q$artist=q.artist)===null||_q$artist===void 0?void 0:_q$artist.map(function(r){return r+\" \";})})]},index);})})]});};export default SinglePlayList;","map":{"version":3,"names":["React","useEffect","useState","useParams","ShareRoundedIcon","Snackbar","MuiAlert","Stack","Alert","forwardRef","props","ref","SinglePlayList","setMusicInfo","data","setData","param","playlistDetail","setPlaylistDetail","open","setOpen","message","setMessage","messageType","setMessageType","handleClick","handleClose","event","reason","getCurrentURL","window","location","href","option","method","body","JSON","stringify","id","headers","fetch","then","res","json","d","title","user","musics","copyToTheClipboard","navigator","clipboard","writeText","console","log","err","error","color","position","bottom","right","zIndex","map","q","index","coverImagePath","artist","r"],"sources":["/home/saoshyant/Documents/GitHub/music-pwa-frontend/src/pages/SinglePlayList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport ShareRoundedIcon from '@mui/icons-material/ShareRounded';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport Stack from '@mui/material/Stack';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst SinglePlayList = ({ setMusicInfo, data, setData }) => {\n    const param = useParams()\n    const [playlistDetail, setPlaylistDetail] = useState();\n    const [open, setOpen] = React.useState(false);\n    const [message, setMessage] = useState('');\n    const [messageType, setMessageType] = useState('');\n\n\n    const handleClick = () => {\n        setOpen(true);\n    };\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n            return;\n        }\n        setOpen(false);\n    }\n\n\n    function getCurrentURL() {\n        return window.location.href\n    }\n\n    useEffect(() => {\n        const option = {\n            method: 'POST',\n            body: JSON.stringify({\n                id: param?.['*']\n            }),\n            headers: {\n                'Content-type': 'application/json; charset=UTF-8',\n            }\n        };\n\n        fetch('https://music-pwa-api.iran.liara.run/api/playlists/id/id', option)\n            .then((res) => res.json())\n            .then((d) => {\n                setPlaylistDetail({ title: d?.title, user: d?.user });\n                setData(d?.musics);\n            })\n\n    }, [])\n\n    const copyToTheClipboard = () => {\n        navigator.clipboard.writeText(getCurrentURL()).then(function () {\n            console.log('Async: Copying to clipboard was successful!');\n            handleClick();\n            setMessageType('success');\n            setMessage('لینک اشتراک گذاری با موفقیت کپی');\n        }, function (err) {\n            console.error('Async: Could not copy text: ', err);\n            handleClick();\n            setMessageType('error');\n            setMessage('خطا در کپی کردن');\n        });\n    }\n\n    return (\n        <div className=\"page-content-holder\" style={{ color: 'white' }}>\n            <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity={messageType} sx={{ position: 'absolute', bottom: '0%', right: '0%', zIndex: 100 }}>\n                    {message}\n                </Alert>\n            </Snackbar>\n            <h2 className=\"plylist-section-title\"><ShareRoundedIcon onClick={() => copyToTheClipboard()} />{playlistDetail?.title}</h2>\n            <div className=\"music-section\">\n                {data?.map((q, index) => {\n                    return (\n                        <div key={index} className=\"post\">\n                            <img src={q?.coverImagePath} alt=\"\" onClick={() => setMusicInfo(q)} className=\"song-image\" />\n                            <h3 className=\"song-name\">{q?.title}</h3>\n                            <h4 className=\"artist-name\">{q?.artist?.map(r => { return (r + \" \") })}</h4>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default SinglePlayList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}