{"ast":null,"code":"import _slicedToArray from\"/home/saoshyant/Documents/GitHub/music-pwa-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useLocation}from\"react-router-dom\";import PlayArrowRoundsedIcon from'@mui/icons-material/PlayArrowRounded';import StopRoundedIcon from'@mui/icons-material/StopRounded';import SkipPreviousRoundedIcon from'@mui/icons-material/SkipPreviousRounded';import SkipNextRoundedIcon from'@mui/icons-material/SkipNextRounded';import CloseFullscreenRoundedIcon from'@mui/icons-material/CloseFullscreenRounded';import OpenInBrowserRoundedIcon from'@mui/icons-material/OpenInBrowserRounded';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MusicPlayer=function MusicPlayer(_ref){var musicInfo=_ref.musicInfo,setMusicInfo=_ref.setMusicInfo,data=_ref.data;var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMaximize=_useState2[0],setIsMaximize=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isPlaying=_useState4[0],setIsPlaying=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),progress=_useState6[0],setProgress=_useState6[1];useEffect(function(){setIsPlaying(true);},[musicInfo]);useEffect(function(){setIsMaximize(false);},[location]);var play=function play(){document.getElementById('musicPlayer').play();};var goNext=function goNext(){var dataCount=data.length;var index=data.findIndex(function(q){return q._id==(musicInfo===null||musicInfo===void 0?void 0:musicInfo._id);})+1;if(index>dataCount-1){setMusicInfo(data===null||data===void 0?void 0:data[0]);}else{setMusicInfo(data===null||data===void 0?void 0:data[index]);}};var goPrev=function goPrev(){var dataCount=data.length;var index=data.findIndex(function(q){return q._id==(musicInfo===null||musicInfo===void 0?void 0:musicInfo._id);})-1;if(index<0){setMusicInfo(data===null||data===void 0?void 0:data[dataCount-1]);}else{setMusicInfo(data===null||data===void 0?void 0:data[index]);}};var pause=function pause(){document.getElementById('musicPlayer').pause();};var playingButton=function playingButton(){if(isPlaying){setIsPlaying(false);pause();}else{setIsPlaying(true);play();}};var changeProgress=function changeProgress(e){var currentTime=document.getElementById('musicPlayer').currentTime;var duration=document.getElementById('musicPlayer').duration;setProgress(parseInt(currentTime/duration*100));if(progress>=99){document.getElementById('musicPlayer').currentTime=0;setProgress(0);play();}};var changeValue=function changeValue(e){var duration=document.getElementById('musicPlayer').duration;document.getElementById('musicPlayer').currentTime=e.target.value/100*duration;};return/*#__PURE__*/_jsxs(\"div\",{className:isMaximize?'musicPlayerHolder':'musicPlayerHolderMin',children:[isMaximize?/*#__PURE__*/_jsx(\"div\",{className:\"minimize-btn\",onClick:function onClick(){return setIsMaximize(false);},children:/*#__PURE__*/_jsx(CloseFullscreenRoundedIcon,{sx:{fontSize:30}})}):/*#__PURE__*/_jsx(\"div\",{className:\"maximize-btn\",onClick:function onClick(){return setIsMaximize(true);},children:/*#__PURE__*/_jsx(OpenInBrowserRoundedIcon,{sx:{fontSize:25}})}),isMaximize?/*#__PURE__*/_jsxs(\"div\",{className:\"musicPlayerInnerHolder\",children:[/*#__PURE__*/_jsx(\"div\",{className:isPlaying?'musicPlayerImagePlaying':'musicPlayerImage',children:/*#__PURE__*/_jsx(\"img\",{src:musicInfo===null||musicInfo===void 0?void 0:musicInfo.coverImagePath})}),/*#__PURE__*/_jsxs(\"div\",{className:\"musicPlayerInfo\",children:[/*#__PURE__*/_jsx(\"h2\",{children:musicInfo===null||musicInfo===void 0?void 0:musicInfo.title}),/*#__PURE__*/_jsx(\"h3\",{children:musicInfo===null||musicInfo===void 0?void 0:musicInfo.artist})]}),/*#__PURE__*/_jsx(\"div\",{className:\"musicPlayerProgress\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:1,max:100,className:\"range\",value:progress,onChange:function onChange(e){return changeValue(e);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"musicPlayerControler\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"playingButton\",children:[/*#__PURE__*/_jsx(SkipNextRoundedIcon,{sx:sx,onClick:goNext}),!isPlaying?/*#__PURE__*/_jsx(PlayArrowRoundsedIcon,{sx:sx,onClick:playingButton}):/*#__PURE__*/_jsx(StopRoundedIcon,{sx:sx,onClick:playingButton}),/*#__PURE__*/_jsx(SkipPreviousRoundedIcon,{sx:sx,onClick:goPrev})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"musicPlayerInnerHolderMin\",children:[/*#__PURE__*/_jsx(\"div\",{className:isPlaying?'musicPlayerImagePlayingMin':'musicPlayerImageMin',children:/*#__PURE__*/_jsx(\"img\",{src:musicInfo===null||musicInfo===void 0?void 0:musicInfo.coverImagePath})}),/*#__PURE__*/_jsxs(\"div\",{className:\"playingButtonMin\",children:[/*#__PURE__*/_jsx(SkipNextRoundedIcon,{sx:sx2,onClick:goNext}),!isPlaying?/*#__PURE__*/_jsx(PlayArrowRoundsedIcon,{sx:sx2,onClick:playingButton}):/*#__PURE__*/_jsx(StopRoundedIcon,{sx:sx2,onClick:playingButton}),/*#__PURE__*/_jsx(SkipPreviousRoundedIcon,{sx:sx2,onClick:goPrev})]})]}),/*#__PURE__*/_jsx(\"audio\",{id:\"musicPlayer\",onTimeUpdate:function onTimeUpdate(e){return changeProgress(e);},src:musicInfo===null||musicInfo===void 0?void 0:musicInfo.musicPath,autoPlay:true,controls:false})]});};var sx={fontSize:50};var sx2={fontSize:35};export default MusicPlayer;","map":{"version":3,"names":["React","useState","useEffect","useLocation","PlayArrowRoundsedIcon","StopRoundedIcon","SkipPreviousRoundedIcon","SkipNextRoundedIcon","CloseFullscreenRoundedIcon","OpenInBrowserRoundedIcon","MusicPlayer","musicInfo","setMusicInfo","data","location","isMaximize","setIsMaximize","isPlaying","setIsPlaying","progress","setProgress","play","document","getElementById","goNext","dataCount","length","index","findIndex","q","_id","goPrev","pause","playingButton","changeProgress","e","currentTime","duration","parseInt","changeValue","target","value","fontSize","coverImagePath","title","artist","sx","sx2","musicPath"],"sources":["/home/saoshyant/Documents/GitHub/music-pwa-frontend/src/componenets/MusicPlayer/MusicPlayer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useLocation } from \"react-router-dom\";\nimport PlayArrowRoundsedIcon from '@mui/icons-material/PlayArrowRounded';\nimport StopRoundedIcon from '@mui/icons-material/StopRounded';\nimport SkipPreviousRoundedIcon from '@mui/icons-material/SkipPreviousRounded';\nimport SkipNextRoundedIcon from '@mui/icons-material/SkipNextRounded';\nimport CloseFullscreenRoundedIcon from '@mui/icons-material/CloseFullscreenRounded';\nimport OpenInBrowserRoundedIcon from '@mui/icons-material/OpenInBrowserRounded';\n\nconst MusicPlayer = ({ musicInfo,setMusicInfo,data }) => {\n\n  const location = useLocation();\n\n  const [isMaximize,setIsMaximize]= useState(false);\n  const [isPlaying, setIsPlaying] = useState(true);\n  const [progress, setProgress] = useState(0);\n\n  useEffect(()=>{\n    setIsPlaying(true);\n  },[musicInfo])\n\n  useEffect(()=>{\n    setIsMaximize(false);\n  },[location])\n\n  const play = () => {\n    document.getElementById('musicPlayer').play()\n    \n    \n  }\n\n  const goNext=()=>{\n    const dataCount=data.length\n    const index=data.findIndex(q=>q._id==musicInfo?._id)+1\n    if(index>dataCount-1){\n      setMusicInfo(data?.[0])\n    } else {\n      setMusicInfo(data?.[index])\n    }\n  }\n\n  const goPrev=()=>{\n    const dataCount=data.length\n    const index=data.findIndex(q=>q._id==musicInfo?._id)-1\n    if(index<0){\n      setMusicInfo(data?.[dataCount-1])\n    } else {\n      setMusicInfo(data?.[index])\n    }\n  }\n\n  const pause = () => {\n    document.getElementById('musicPlayer').pause()\n  }\n\n  const playingButton = () => {\n    if (isPlaying) {\n      setIsPlaying(false);\n      pause();\n    } else {\n      setIsPlaying(true);\n      play();\n    }\n  }\n\n  const changeProgress = (e) => {\n    const currentTime  = document.getElementById('musicPlayer').currentTime;\n    const duration = document.getElementById('musicPlayer').duration;\n\n    setProgress(parseInt((currentTime / duration) * 100));\n    \n    if(progress>=99){\n      document.getElementById('musicPlayer').currentTime=0;\n      setProgress(0);\n      play();\n    }\n  }\n\n  const changeValue=(e)=>{\n    const duration = document.getElementById('musicPlayer').duration;\n    document.getElementById('musicPlayer').currentTime=e.target.value/100*duration;\n  }\n\n  return (\n    <div className={isMaximize ? 'musicPlayerHolder' : 'musicPlayerHolderMin' }>\n      { isMaximize\n        ?\n        <div className='minimize-btn' onClick={()=>setIsMaximize(false)}>\n            <CloseFullscreenRoundedIcon sx={{fontSize:30}} />\n        </div>\n        :\n        <div className='maximize-btn' onClick={()=>setIsMaximize(true)} >\n          <OpenInBrowserRoundedIcon sx={{fontSize:25}} />\n        </div>}\n        {isMaximize ?\n      <div className='musicPlayerInnerHolder'>\n      \n        <div className={isPlaying ? 'musicPlayerImagePlaying' : 'musicPlayerImage'}>\n          <img src={musicInfo?.coverImagePath} />\n        </div>\n        \n        <div className='musicPlayerInfo'>\n          <h2>{musicInfo?.title}</h2>\n          <h3>{musicInfo?.artist}</h3>\n        </div>\n        \n        <div className='musicPlayerProgress'>\n          <input type='range' min={1} max={100} className='range' value={progress} onChange={(e)=>changeValue(e)}  />\n        </div> \n        \n          <div className='musicPlayerControler' >\n          <div className='playingButton'>\n            <SkipNextRoundedIcon sx={sx} onClick={goNext} />\n            {!isPlaying ? \n            <PlayArrowRoundsedIcon sx={sx} onClick={playingButton} /> :\n             <StopRoundedIcon sx={sx} onClick={playingButton} />}\n             <SkipPreviousRoundedIcon sx={sx} onClick={goPrev} />\n          </div>\n          </div>\n      </div>\n       : \n       <div className='musicPlayerInnerHolderMin'> \n          <div className={isPlaying ? 'musicPlayerImagePlayingMin' : 'musicPlayerImageMin'}>\n          <img src={musicInfo?.coverImagePath} />\n        </div>\n        <div className='playingButtonMin'>\n            <SkipNextRoundedIcon sx={sx2} onClick={goNext} />\n            {!isPlaying ? \n            <PlayArrowRoundsedIcon sx={sx2} onClick={playingButton} /> :\n             <StopRoundedIcon sx={sx2} onClick={playingButton} />}\n             <SkipPreviousRoundedIcon sx={sx2} onClick={goPrev} />\n          </div>\n       </div>\n       }\n          <audio id=\"musicPlayer\" onTimeUpdate={(e) => changeProgress(e)} src={musicInfo?.musicPath} autoPlay={true} controls={false} />\n    </div>\n  )\n}\n\nlet sx={fontSize:50}\nlet sx2={fontSize:35}\n\n\nexport default MusicPlayer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}