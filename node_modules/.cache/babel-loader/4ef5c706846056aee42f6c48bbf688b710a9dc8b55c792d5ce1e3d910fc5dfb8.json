{"ast":null,"code":"/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport '../_version.js';\n// Name of the search parameter used to store revision info.\nvar REVISION_SEARCH_PARAM = '__WB_REVISION__';\n/**\r\n * Converts a manifest entry into a versioned URL suitable for precaching.\r\n *\r\n * @param {Object|string} entry\r\n * @return {string} A URL with versioning info.\r\n *\r\n * @private\r\n * @memberof workbox-precaching\r\n */\nexport function createCacheKey(entry) {\n  if (!entry) {\n    throw new WorkboxError('add-to-cache-list-unexpected-type', {\n      entry: entry\n    });\n  }\n  // If a precache manifest entry is a string, it's assumed to be a versioned\n  // URL, like '/app.abcd1234.js'. Return as-is.\n  if (typeof entry === 'string') {\n    var urlObject = new URL(entry, location.href);\n    return {\n      cacheKey: urlObject.href,\n      url: urlObject.href\n    };\n  }\n  var revision = entry.revision,\n    url = entry.url;\n  if (!url) {\n    throw new WorkboxError('add-to-cache-list-unexpected-type', {\n      entry: entry\n    });\n  }\n  // If there's just a URL and no revision, then it's also assumed to be a\n  // versioned URL.\n  if (!revision) {\n    var _urlObject = new URL(url, location.href);\n    return {\n      cacheKey: _urlObject.href,\n      url: _urlObject.href\n    };\n  }\n  // Otherwise, construct a properly versioned URL using the custom Workbox\n  // search parameter along with the revision info.\n  var cacheKeyURL = new URL(url, location.href);\n  var originalURL = new URL(url, location.href);\n  cacheKeyURL.searchParams.set(REVISION_SEARCH_PARAM, revision);\n  return {\n    cacheKey: cacheKeyURL.href,\n    url: originalURL.href\n  };\n}","map":{"version":3,"names":["WorkboxError","REVISION_SEARCH_PARAM","createCacheKey","entry","urlObject","URL","location","href","cacheKey","url","revision","cacheKeyURL","originalURL","searchParams","set"],"sources":["D:/github/music-pwa-frontend/node_modules/workbox-precaching/utils/createCacheKey.js"],"sourcesContent":["/*\r\n  Copyright 2018 Google LLC\r\n\r\n  Use of this source code is governed by an MIT-style\r\n  license that can be found in the LICENSE file or at\r\n  https://opensource.org/licenses/MIT.\r\n*/\r\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\r\nimport '../_version.js';\r\n// Name of the search parameter used to store revision info.\r\nconst REVISION_SEARCH_PARAM = '__WB_REVISION__';\r\n/**\r\n * Converts a manifest entry into a versioned URL suitable for precaching.\r\n *\r\n * @param {Object|string} entry\r\n * @return {string} A URL with versioning info.\r\n *\r\n * @private\r\n * @memberof workbox-precaching\r\n */\r\nexport function createCacheKey(entry) {\r\n    if (!entry) {\r\n        throw new WorkboxError('add-to-cache-list-unexpected-type', { entry });\r\n    }\r\n    // If a precache manifest entry is a string, it's assumed to be a versioned\r\n    // URL, like '/app.abcd1234.js'. Return as-is.\r\n    if (typeof entry === 'string') {\r\n        const urlObject = new URL(entry, location.href);\r\n        return {\r\n            cacheKey: urlObject.href,\r\n            url: urlObject.href,\r\n        };\r\n    }\r\n    const { revision, url } = entry;\r\n    if (!url) {\r\n        throw new WorkboxError('add-to-cache-list-unexpected-type', { entry });\r\n    }\r\n    // If there's just a URL and no revision, then it's also assumed to be a\r\n    // versioned URL.\r\n    if (!revision) {\r\n        const urlObject = new URL(url, location.href);\r\n        return {\r\n            cacheKey: urlObject.href,\r\n            url: urlObject.href,\r\n        };\r\n    }\r\n    // Otherwise, construct a properly versioned URL using the custom Workbox\r\n    // search parameter along with the revision info.\r\n    const cacheKeyURL = new URL(url, location.href);\r\n    const originalURL = new URL(url, location.href);\r\n    cacheKeyURL.searchParams.set(REVISION_SEARCH_PARAM, revision);\r\n    return {\r\n        cacheKey: cacheKeyURL.href,\r\n        url: originalURL.href,\r\n    };\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,uCAAuC;AACpE,OAAO,gBAAgB;AACvB;AACA,IAAMC,qBAAqB,GAAG,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,cAAc,CAACC,KAAK,EAAE;EAClC,IAAI,CAACA,KAAK,EAAE;IACR,MAAM,IAAIH,YAAY,CAAC,mCAAmC,EAAE;MAAEG,KAAK,EAALA;IAAM,CAAC,CAAC;EAC1E;EACA;EACA;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC3B,IAAMC,SAAS,GAAG,IAAIC,GAAG,CAACF,KAAK,EAAEG,QAAQ,CAACC,IAAI,CAAC;IAC/C,OAAO;MACHC,QAAQ,EAAEJ,SAAS,CAACG,IAAI;MACxBE,GAAG,EAAEL,SAAS,CAACG;IACnB,CAAC;EACL;EACA,IAAQG,QAAQ,GAAUP,KAAK,CAAvBO,QAAQ;IAAED,GAAG,GAAKN,KAAK,CAAbM,GAAG;EACrB,IAAI,CAACA,GAAG,EAAE;IACN,MAAM,IAAIT,YAAY,CAAC,mCAAmC,EAAE;MAAEG,KAAK,EAALA;IAAM,CAAC,CAAC;EAC1E;EACA;EACA;EACA,IAAI,CAACO,QAAQ,EAAE;IACX,IAAMN,UAAS,GAAG,IAAIC,GAAG,CAACI,GAAG,EAAEH,QAAQ,CAACC,IAAI,CAAC;IAC7C,OAAO;MACHC,QAAQ,EAAEJ,UAAS,CAACG,IAAI;MACxBE,GAAG,EAAEL,UAAS,CAACG;IACnB,CAAC;EACL;EACA;EACA;EACA,IAAMI,WAAW,GAAG,IAAIN,GAAG,CAACI,GAAG,EAAEH,QAAQ,CAACC,IAAI,CAAC;EAC/C,IAAMK,WAAW,GAAG,IAAIP,GAAG,CAACI,GAAG,EAAEH,QAAQ,CAACC,IAAI,CAAC;EAC/CI,WAAW,CAACE,YAAY,CAACC,GAAG,CAACb,qBAAqB,EAAES,QAAQ,CAAC;EAC7D,OAAO;IACHF,QAAQ,EAAEG,WAAW,CAACJ,IAAI;IAC1BE,GAAG,EAAEG,WAAW,CAACL;EACrB,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}